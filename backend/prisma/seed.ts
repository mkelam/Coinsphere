import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

async function main() {
  console.log('ðŸŒ± Seeding database...');

  // Seed tokens
  const tokens = [
    {
      symbol: 'BTC',
      name: 'Bitcoin',
      blockchain: 'Bitcoin',
      coingeckoId: 'bitcoin',
      decimals: 8,
      logoUrl: 'https://assets.coingecko.com/coins/images/1/large/bitcoin.png',
      currentPrice: 67420.50,
      marketCap: 1320000000000,
      volume24h: 35000000000,
      priceChange24h: 2.45,
    },
    {
      symbol: 'ETH',
      name: 'Ethereum',
      blockchain: 'Ethereum',
      coingeckoId: 'ethereum',
      decimals: 18,
      logoUrl: 'https://assets.coingecko.com/coins/images/279/large/ethereum.png',
      currentPrice: 3542.80,
      marketCap: 425000000000,
      volume24h: 18000000000,
      priceChange24h: 3.12,
    },
    {
      symbol: 'SOL',
      name: 'Solana',
      blockchain: 'Solana',
      coingeckoId: 'solana',
      decimals: 9,
      logoUrl: 'https://assets.coingecko.com/coins/images/4128/large/solana.png',
      currentPrice: 142.35,
      marketCap: 65000000000,
      volume24h: 3200000000,
      priceChange24h: 5.67,
    },
    {
      symbol: 'USDC',
      name: 'USD Coin',
      blockchain: 'Ethereum',
      coingeckoId: 'usd-coin',
      contractAddress: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',
      decimals: 6,
      logoUrl: 'https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png',
      currentPrice: 1.00,
      marketCap: 34000000000,
      volume24h: 8500000000,
      priceChange24h: 0.02,
    },
    {
      symbol: 'BNB',
      name: 'BNB',
      blockchain: 'BSC',
      coingeckoId: 'binancecoin',
      decimals: 18,
      logoUrl: 'https://assets.coingecko.com/coins/images/825/large/bnb-icon2_2x.png',
      currentPrice: 587.20,
      marketCap: 85000000000,
      volume24h: 1800000000,
      priceChange24h: 1.85,
    },
    {
      symbol: 'XRP',
      name: 'Ripple',
      blockchain: 'XRP Ledger',
      coingeckoId: 'ripple',
      decimals: 6,
      logoUrl: 'https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png',
      currentPrice: 0.52,
      marketCap: 28000000000,
      volume24h: 1200000000,
      priceChange24h: -0.85,
    },
    {
      symbol: 'ADA',
      name: 'Cardano',
      blockchain: 'Cardano',
      coingeckoId: 'cardano',
      decimals: 6,
      logoUrl: 'https://assets.coingecko.com/coins/images/975/large/cardano.png',
      currentPrice: 0.45,
      marketCap: 16000000000,
      volume24h: 420000000,
      priceChange24h: 2.15,
    },
    {
      symbol: 'DOGE',
      name: 'Dogecoin',
      blockchain: 'Dogecoin',
      coingeckoId: 'dogecoin',
      decimals: 8,
      logoUrl: 'https://assets.coingecko.com/coins/images/5/large/dogecoin.png',
      currentPrice: 0.12,
      marketCap: 17000000000,
      volume24h: 1100000000,
      priceChange24h: 8.42,
    },
    {
      symbol: 'AVAX',
      name: 'Avalanche',
      blockchain: 'Avalanche',
      coingeckoId: 'avalanche-2',
      decimals: 18,
      logoUrl: 'https://assets.coingecko.com/coins/images/12559/large/Avalanche_Circle_RedWhite_Trans.png',
      currentPrice: 34.25,
      marketCap: 13000000000,
      volume24h: 580000000,
      priceChange24h: 4.32,
    },
    {
      symbol: 'MATIC',
      name: 'Polygon',
      blockchain: 'Ethereum',
      coingeckoId: 'matic-network',
      contractAddress: '0x7D1AfA7B718fb893dB30A3aBc0Cfc608AaCfeBB0',
      decimals: 18,
      logoUrl: 'https://assets.coingecko.com/coins/images/4713/large/matic-token-icon.png',
      currentPrice: 0.68,
      marketCap: 6300000000,
      volume24h: 320000000,
      priceChange24h: 1.95,
    },
    // Additional Top 20 Cryptocurrencies
    {
      symbol: 'DOT',
      name: 'Polkadot',
      blockchain: 'Polkadot',
      coingeckoId: 'polkadot',
      decimals: 10,
      logoUrl: 'https://assets.coingecko.com/coins/images/12171/large/polkadot.png',
      currentPrice: 7.25,
      marketCap: 9800000000,
      volume24h: 280000000,
      priceChange24h: 1.45,
    },
    {
      symbol: 'LINK',
      name: 'Chainlink',
      blockchain: 'Ethereum',
      coingeckoId: 'chainlink',
      contractAddress: '0x514910771AF9Ca656af840dff83E8264EcF986CA',
      decimals: 18,
      logoUrl: 'https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png',
      currentPrice: 14.85,
      marketCap: 8900000000,
      volume24h: 420000000,
      priceChange24h: 3.25,
    },
    {
      symbol: 'UNI',
      name: 'Uniswap',
      blockchain: 'Ethereum',
      coingeckoId: 'uniswap',
      contractAddress: '0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984',
      decimals: 18,
      logoUrl: 'https://assets.coingecko.com/coins/images/12504/large/uniswap-uni.png',
      currentPrice: 6.45,
      marketCap: 4800000000,
      volume24h: 180000000,
      priceChange24h: 2.85,
    },
    {
      symbol: 'ATOM',
      name: 'Cosmos',
      blockchain: 'Cosmos',
      coingeckoId: 'cosmos',
      decimals: 6,
      logoUrl: 'https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png',
      currentPrice: 9.85,
      marketCap: 3800000000,
      volume24h: 240000000,
      priceChange24h: 1.95,
    },
    {
      symbol: 'LTC',
      name: 'Litecoin',
      blockchain: 'Litecoin',
      coingeckoId: 'litecoin',
      decimals: 8,
      logoUrl: 'https://assets.coingecko.com/coins/images/2/large/litecoin.png',
      currentPrice: 68.50,
      marketCap: 5100000000,
      volume24h: 380000000,
      priceChange24h: 0.85,
    },
    {
      symbol: 'ETC',
      name: 'Ethereum Classic',
      blockchain: 'Ethereum Classic',
      coingeckoId: 'ethereum-classic',
      decimals: 18,
      logoUrl: 'https://assets.coingecko.com/coins/images/453/large/ethereum-classic-logo.png',
      currentPrice: 19.25,
      marketCap: 2800000000,
      volume24h: 160000000,
      priceChange24h: -1.25,
    },
    {
      symbol: 'USDT',
      name: 'Tether',
      blockchain: 'Ethereum',
      coingeckoId: 'tether',
      contractAddress: '0xdAC17F958D2ee523a2206206994597C13D831ec7',
      decimals: 6,
      logoUrl: 'https://assets.coingecko.com/coins/images/325/large/Tether.png',
      currentPrice: 1.00,
      marketCap: 88000000000,
      volume24h: 52000000000,
      priceChange24h: 0.01,
    },
    {
      symbol: 'DAI',
      name: 'Dai',
      blockchain: 'Ethereum',
      coingeckoId: 'dai',
      contractAddress: '0x6B175474E89094C44Da98b954EedeAC495271d0F',
      decimals: 18,
      logoUrl: 'https://assets.coingecko.com/coins/images/9956/large/dai-multi-collateral-mcd.png',
      currentPrice: 1.00,
      marketCap: 5200000000,
      volume24h: 280000000,
      priceChange24h: 0.02,
    },
    {
      symbol: 'SHIB',
      name: 'Shiba Inu',
      blockchain: 'Ethereum',
      coingeckoId: 'shiba-inu',
      contractAddress: '0x95aD61b0a150d79219dCF64E1E6Cc01f0B64C4cE',
      decimals: 18,
      logoUrl: 'https://assets.coingecko.com/coins/images/11939/large/shiba.png',
      currentPrice: 0.00001245,
      marketCap: 7300000000,
      volume24h: 280000000,
      priceChange24h: 4.85,
    },
    {
      symbol: 'ARB',
      name: 'Arbitrum',
      blockchain: 'Arbitrum',
      coingeckoId: 'arbitrum',
      decimals: 18,
      logoUrl: 'https://assets.coingecko.com/coins/images/16547/large/photo_2023-03-29_21.47.00.jpeg',
      currentPrice: 1.12,
      marketCap: 4100000000,
      volume24h: 320000000,
      priceChange24h: 2.45,
    },
    {
      symbol: 'OP',
      name: 'Optimism',
      blockchain: 'Optimism',
      coingeckoId: 'optimism',
      decimals: 18,
      logoUrl: 'https://assets.coingecko.com/coins/images/25244/large/Optimism.png',
      currentPrice: 2.18,
      marketCap: 2200000000,
      volume24h: 180000000,
      priceChange24h: 1.85,
    },
    {
      symbol: 'APT',
      name: 'Aptos',
      blockchain: 'Aptos',
      coingeckoId: 'aptos',
      decimals: 8,
      logoUrl: 'https://assets.coingecko.com/coins/images/26455/large/aptos_round.png',
      currentPrice: 8.65,
      marketCap: 3600000000,
      volume24h: 240000000,
      priceChange24h: 3.15,
    },
    {
      symbol: 'SUI',
      name: 'Sui',
      blockchain: 'Sui',
      coingeckoId: 'sui',
      decimals: 9,
      logoUrl: 'https://assets.coingecko.com/coins/images/26375/large/sui_asset.jpeg',
      currentPrice: 1.42,
      marketCap: 3700000000,
      volume24h: 320000000,
      priceChange24h: 5.25,
    },
    {
      symbol: 'INJ',
      name: 'Injective',
      blockchain: 'Ethereum',
      coingeckoId: 'injective-protocol',
      contractAddress: '0xe28b3B32B6c345A34Ff64674606124Dd5Aceca30',
      decimals: 18,
      logoUrl: 'https://assets.coingecko.com/coins/images/12882/large/Secondary_Symbol.png',
      currentPrice: 26.50,
      marketCap: 2500000000,
      volume24h: 180000000,
      priceChange24h: 4.15,
    },
    {
      symbol: 'AAVE',
      name: 'Aave',
      blockchain: 'Ethereum',
      coingeckoId: 'aave',
      contractAddress: '0x7Fc66500c84A76Ad7e9c93437bFc5Ac33E2DDaE9',
      decimals: 18,
      logoUrl: 'https://assets.coingecko.com/coins/images/12645/large/AAVE.png',
      currentPrice: 98.50,
      marketCap: 1450000000,
      volume24h: 140000000,
      priceChange24h: 1.95,
    },
    {
      symbol: 'CRV',
      name: 'Curve DAO Token',
      blockchain: 'Ethereum',
      coingeckoId: 'curve-dao-token',
      contractAddress: '0xD533a949740bb3306d119CC777fa900bA034cd52',
      decimals: 18,
      logoUrl: 'https://assets.coingecko.com/coins/images/12124/large/Curve.png',
      currentPrice: 0.68,
      marketCap: 820000000,
      volume24h: 95000000,
      priceChange24h: 2.25,
    },
    {
      symbol: 'MKR',
      name: 'Maker',
      blockchain: 'Ethereum',
      coingeckoId: 'maker',
      contractAddress: '0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2',
      decimals: 18,
      logoUrl: 'https://assets.coingecko.com/coins/images/1364/large/Mark_Maker.png',
      currentPrice: 1580.00,
      marketCap: 1460000000,
      volume24h: 85000000,
      priceChange24h: 1.45,
    },
    {
      symbol: 'LDO',
      name: 'Lido DAO',
      blockchain: 'Ethereum',
      coingeckoId: 'lido-dao',
      contractAddress: '0x5A98FcBEA516Cf06857215779Fd812CA3beF1B32',
      decimals: 18,
      logoUrl: 'https://assets.coingecko.com/coins/images/13573/large/Lido_DAO.png',
      currentPrice: 2.25,
      marketCap: 2010000000,
      volume24h: 120000000,
      priceChange24h: 2.85,
    },
    {
      symbol: 'PEPE',
      name: 'Pepe',
      blockchain: 'Ethereum',
      coingeckoId: 'pepe',
      contractAddress: '0x6982508145454Ce325dDbE47a25d4ec3d2311933',
      decimals: 18,
      logoUrl: 'https://assets.coingecko.com/coins/images/29850/large/pepe-token.jpeg',
      currentPrice: 0.00000142,
      marketCap: 5980000000,
      volume24h: 420000000,
      priceChange24h: 8.25,
    },
    {
      symbol: 'FTM',
      name: 'Fantom',
      blockchain: 'Fantom',
      coingeckoId: 'fantom',
      decimals: 18,
      logoUrl: 'https://assets.coingecko.com/coins/images/4001/large/Fantom.png',
      currentPrice: 0.52,
      marketCap: 1460000000,
      volume24h: 180000000,
      priceChange24h: 1.95,
    },
    {
      symbol: 'NEAR',
      name: 'NEAR Protocol',
      blockchain: 'NEAR',
      coingeckoId: 'near',
      decimals: 24,
      logoUrl: 'https://assets.coingecko.com/coins/images/10365/large/near_icon.png',
      currentPrice: 5.65,
      marketCap: 6100000000,
      volume24h: 280000000,
      priceChange24h: 2.45,
    },
  ];

  for (const tokenData of tokens) {
    const token = await prisma.token.upsert({
      where: { symbol: tokenData.symbol },
      update: tokenData,
      create: tokenData,
    });
    console.log(`âœ“ Created/Updated token: ${token.symbol} - ${token.name}`);
  }

  // Seed DeFi protocols
  const defiProtocols = [
    {
      slug: 'uniswap-v3',
      name: 'Uniswap V3',
      category: 'DEX',
      blockchain: 'Ethereum',
      logoUrl: 'https://cryptologos.cc/logos/uniswap-uni-logo.png',
      isActive: true,
    },
    {
      slug: 'aave-v3',
      name: 'Aave V3',
      category: 'Lending',
      blockchain: 'Ethereum',
      logoUrl: 'https://cryptologos.cc/logos/aave-aave-logo.png',
      isActive: true,
    },
    {
      slug: 'compound-v2',
      name: 'Compound V2',
      category: 'Lending',
      blockchain: 'Ethereum',
      logoUrl: 'https://cryptologos.cc/logos/compound-comp-logo.png',
      isActive: true,
    },
    {
      slug: 'curve',
      name: 'Curve Finance',
      category: 'DEX',
      blockchain: 'Ethereum',
      logoUrl: 'https://cryptologos.cc/logos/curve-dao-token-crv-logo.png',
      isActive: true,
    },
    {
      slug: 'lido',
      name: 'Lido',
      category: 'Staking',
      blockchain: 'Ethereum',
      logoUrl: 'https://cryptologos.cc/logos/lido-dao-ldo-logo.png',
      isActive: true,
    },
    {
      slug: 'rocket-pool',
      name: 'Rocket Pool',
      category: 'Staking',
      blockchain: 'Ethereum',
      logoUrl: 'https://cryptologos.cc/logos/rocket-pool-rpl-logo.png',
      isActive: true,
    },
    {
      slug: 'yearn-v2',
      name: 'Yearn Finance V2',
      category: 'Yield',
      blockchain: 'Ethereum',
      logoUrl: 'https://cryptologos.cc/logos/yearn-finance-yfi-logo.png',
      isActive: true,
    },
    {
      slug: 'convex',
      name: 'Convex Finance',
      category: 'Yield',
      blockchain: 'Ethereum',
      logoUrl: 'https://cryptologos.cc/logos/convex-finance-cvx-logo.png',
      isActive: true,
    },
    {
      slug: 'balancer-v2',
      name: 'Balancer V2',
      category: 'DEX',
      blockchain: 'Ethereum',
      logoUrl: 'https://cryptologos.cc/logos/balancer-bal-logo.png',
      isActive: true,
    },
    {
      slug: 'sushiswap',
      name: 'SushiSwap',
      category: 'DEX',
      blockchain: 'Ethereum',
      logoUrl: 'https://cryptologos.cc/logos/sushiswap-sushi-logo.png',
      isActive: true,
    },
  ];

  for (const protocolData of defiProtocols) {
    const protocol = await prisma.defiProtocol.upsert({
      where: { slug: protocolData.slug },
      update: protocolData,
      create: protocolData,
    });
    console.log(`âœ“ Created/Updated DeFi protocol: ${protocol.name} (${protocol.category})`);
  }

  console.log('âœ… Seeding complete!');
}

main()
  .catch((e) => {
    console.error('âŒ Seeding error:', e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });
